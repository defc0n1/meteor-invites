<!-- Invites Admin -->

<template name="confirmInviteRequest">
    <div class="confirmInviteRequest">
        <h1>Thanks for requesting an invitation!</h1>
        <h3>We'll let you know when we're ready for you.</h3>
    </div>
</template>

<template name="inviteAdmin">
    <h1>Invitation Requests</h1>
	
	<form class="inviteRequest">
        <label>Request an Invitation</label>
        <input id="requestInviteEmail" type="text" name="email" placeholder="Email address" />
        <input type="submit" value="Request">
    </form>
    <br/>
    <table class="invites-table">
        <thead>
            <tr>
                <th>Created At</th>
                <th>Status</th>
                <th>Email</th>
                <th>Token</th>
                <th>Delete</th>
                <th>Invite</th>
            </tr>
        </thead>

        {{#each requests}}
        <tr>
            <td>{{datetime}}</td>
            <td>{{status}}</td>
            <td>{{email}}</td>
            <td><a href="/confirmInviteRequest/{{token}}">{{token}}</a></td>
            <td><a class="request-delete" data-id="{{_id}}" href="#">Delete</a></td>
            {{#if allowInvite}}
                <td><a class="request-invite" data-id="{{_id}}" href="#">Invite</a></td>
            {{/if}}
        </tr>
        {{/each}}
    </table>

    <h1>Invitations</h1>
	
	<form class="inviteCreate">
        <label>Create an Invitation</label>
        <input id="inviteEmail" type="text" name="email" placeholder="Email address" />
        <input type="submit" value="Invite">
    </form>
    <br/>
    <table class="invites-table">
        <thead>
            <tr>
                <th>Created At</th>
                <th>Email</th>
                <th>Token</th>
                <th>Status</th>
                <th>Reset</th>
                <th>Revoke</th>
                <th>Delete</th>
            </tr>
        </thead>

    	{{#each invites}}
    	<tr>
            <td>{{datetime}}</td>
            <td>{{email}}</td>
            <td><a href="/acceptInvite/{{token}}">{{token}}</a></td>
            <td>{{status}}</td>
            <td><a class="invite-reset" data-id="{{_id}}" href="#">Reset</a></td>
            <td><a class="invite-revoke" data-id="{{_id}}" href="#">Revoke</a></td>
            <td><a class="invite-delete" data-id="{{_id}}" href="#">Delete</a></td>
        </tr>
    	{{/each}}
    </table>

    <h1>Users</h1>
    <table class="invites-table">
        <thead>
            <tr>
            	<th>Created At</th>
                <th>ID</th>
                <th>profile.name</th>
                <th>Token</th>
                <th>Services</th>
                <th>Delete</th>
            </tr>
        </thead>

        {{#each users}}
        <tr>
        	<td>{{datetime}}</td>
            <td>{{_id}}</td>
            <td>{{profile.name}}</td>
            <td>{{inviteToken}} ({{inviteType}})</td>
            <td>{{services}}</td>
            <td><a class="user-delete" data-id="{{_id}}" href="#">Delete</a></td>
        </tr>
        {{/each}}
    </table>
</template>